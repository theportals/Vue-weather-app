<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="style.css"/>
    <title>Software Development Plan</title>
</head>

<body>
	<h1>Software Development Plan</h1>

	<div id="plan0">
		<h2>Phase 0: Requirements Specification</h2>
		<p>This assignment is similar to the past one - we will be chaining a few APIs together to tell a user the
			current weather and 5-day forecast. Rather than vanilla JS, we will use vue.js to manipulate the DOM and
			update the site as our "fetch"es get resolved.</p>
	</div>

	<div id="plan1">
		<h2>Phase 1: System Analysis</h2>
		<p>We start with a call to ip-api, which returns a user's latitude and longitude based on their IP address. We
			can then chain a couple of fetches to openweathermap to get the current weather conditions and 5-day
			forecast at said latitude and longitude. The current weather and forecast have similar formats - the latter
			is just	a list of the same JSON fields, so we can use the same function to turn that JSON response into
			usable data.</p>
	</div>

	<div id="plan2">
		<h2>Phase 2: Design</h2>
		<p>Again, due to the tedium of writing pseudo-html inside of an html document, I won't touch on index.html too
			much. Just know I'll be using plenty of <code>v-if</code> and <code>v-for</code> statements for conditional
			rendering.</p>
		<h3>script.js</h3>
		<pre><code>methods: {
	getTime(json) {
		return json.time;
	},

	digestResponse(json) {
		let r = {};
		r.temp = json.temp;
		r.high = json.temp_max;
		...
		return r;
	}

	forecastToggle(event) {
		if state == 'neutral' {
			state = 'likely';
		} else if state == 'likely' {
			state = 'unlikely';
		} else if state == 'unlikely' {
			state = 'neutral'
		}
	}
}

computed: {
	neutral() {
		let c = 0;
		for forecast in forecasts:
			if forecast is neutral, c++;
		return c;
	}
	(Methods for likely and unlikely are going to be almost identical)
}

created() {
	fetch(ip-api.com)
		.then(
			this.lat = json.lat
			this.lon = json.lon
			return fetch(openweathermap.com/weather?lat=json.lat&lon=json.lon)
		).then(
			read through the JSON response and set a variable in data
			return fetch(openweathermap.com/forecast?lat=this.lat&lon=this.lon) {
		).then(
			read through JSON and set variables in data
		).catch(this.error = err);
}
		</code></pre>
	</div>

	<div id="plan3">
		<h2>Phase 3: Implementation</h2>
		<p>See /src</p>
	</div>

	<div id="plan4">
		<h2>Phase 4: Testing & Debugging</h2>
		<table>
			<thead>
			<tr>
				<th>Test</th>
				<th>Results</th>
			</tr>
			</thead>
			<tr>
				<td>Do all features work as intended?</td>
				<td>Yes</td>
			</tr>
			<tr>
				<td>Are API failures handled gracefully?</td>
				<td>Yes</td>
			</tr>
			<tr>
				<td>Do all tests work in multiple browsers? (Not just chromium-based?)</td>
				<td>Yes, as long as long as ad-block is turned off.</td>
			</tr>
			<tr>
				<td>Do all tests work when project is cloned to another directory? To another computer?</td>
				<td>Not tested</td>
			</tr>
		</table>
	</div>

	<div id="plan5">
		<h2>Phase 5: Deployment</h2>
		<p>Pushed to <a href="https://gitlab.cs.usu.edu/thomas.p.longhurst/cs2610-longhurst-tom-assn5">this repository.</a></p>
	</div>

	<div id="plan6">
		<h2>Phase 6: Maintenance</h2>
		<p>I think my program should be easy to understand for anyone familiar with how vue.js works, it really only uses
			basic features like conditional rendering and lifecycle hooks - none of the more advanced features.</p>
		<p>I feel my documentation is reasonably well-written, and anyone (including myself in 6 months) should be able
			to figure out how the program works without much difficulty.</p>
		<p>Adding new features should be pretty easy, as long as they don't use any of those more advanced vue.js
			features I mentioned earlier.</p>
		<p>My program should work regardless of hardware and operating system upgrades, but it may get broken by future
			updates to vue and/or one of the APIs. These parts where the program is out of my hands are usually what
			goes awry in my experience.</p>
	</div>
</body>

</html>